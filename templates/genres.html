{% extends 'base.html' %}

{% block title %}
<title>Genres</title>
{% endblock %}

{% block style %}
<style>
    body {
        font-family: 'Inter', sans-serif;
    }
    .font-display {
        font-family: 'Playfair Display', serif;
    }
    .dark .group:hover .book-shadow {
        box-shadow: 0 20px 45px -10px rgba(0, 0, 0, 0.3);
    }
    .group:hover .book-shadow {
        box-shadow: 0 20px 45px -10px rgba(109, 41, 50, 0.2);
    }
</style>
{% endblock %}
{% block body %}
<div class="relative flex min-h-screen w-full flex-col">
    <main class="container mx-auto flex flex-1 flex-col px-4 py-10 lg:flex-row lg:gap-10 lg:px-8">
        <aside class="w-full shrink-0 lg:w-64 xl:w-72">
            <div class="sticky top-24 flex flex-col gap-6">
                <div class="flex items-center justify-between">
                    <h2 class="text-xl font-bold font-display">Filters</h2>
                    <button class="text-sm text-accent-light dark:text-accent-dark hover:text-cta-light dark:hover:text-cta-dark">
                        Clear All
                    </button>
                </div>
                <div class="flex flex-col gap-2">
                    <label class="text-base font-medium" for="sort-options">Sort By</label>
                    <select class="form-select w-full rounded-md border-warm-gray/30 dark:border-accent-dark/50 bg-background-light dark:bg-surface-dark focus:border-cta-light focus:ring-cta-light/50 dark:focus:border-cta-dark dark:focus:ring-cta-dark/50"
                            id="sort-options">
                        <option>Popularity</option>
                        <option>Price: Low to High</option>
                        <option>Price: High to Low</option>
                        <option>Newest</option>
                        <option>Title: A-Z</option>
                    </select>
                </div>
                <details class="flex flex-col group border-t border-warm-gray/20 dark:border-accent-dark/30 pt-4"
                         open="">
                    <summary class="flex cursor-pointer list-none items-center justify-between gap-6">
                        <p class="text-base font-medium">Genre</p>
                        <span class="material-symbols-outlined transform transition-transform group-open:rotate-180">expand_more</span>
                    </summary>
                    <div class="flex flex-col gap-2 pt-3 text-sm">
                        <label class="flex items-center gap-2 cursor-pointer"><input
                                class="form-checkbox rounded-sm text-cta-light dark:text-cta-dark bg-background-light dark:bg-background-dark border-warm-gray/40 focus:ring-cta-light/50"
                                type="checkbox"/> Fiction</label>
                        <label class="flex items-center gap-2 cursor-pointer"><input
                                class="form-checkbox rounded-sm text-cta-light dark:text-cta-dark bg-background-light dark:bg-background-dark border-warm-gray/40 focus:ring-cta-light/50"
                                type="checkbox"/> Non-Fiction</label>
                        <label class="flex items-center gap-2 cursor-pointer"><input checked=""
                                                                                     class="form-checkbox rounded-sm text-cta-light dark:text-cta-dark bg-background-light dark:bg-background-dark border-warm-gray/40 focus:ring-cta-light/50"
                                                                                     type="checkbox"/> Mystery</label>
                        <label class="flex items-center gap-2 cursor-pointer"><input
                                class="form-checkbox rounded-sm text-cta-light dark:text-cta-dark bg-background-light dark:bg-background-dark border-warm-gray/40 focus:ring-cta-light/50"
                                type="checkbox"/> Biography</label>
                    </div>
                </details>
                <div class="flex w-full flex-col items-start gap-3 border-t border-warm-gray/20 dark:border-accent-dark/30 pt-4">
                    <p class="text-base font-medium leading-normal">Price Range</p>
                    <div class="w-full pt-2">
                        <input class="w-full h-1 bg-warm-gray/20 rounded-lg appearance-none cursor-pointer range-sm dark:bg-accent-dark/30"
                               style="accent-color: var(--tw-prose-links);" type="range"/>
                        <div class="flex justify-between text-sm text-accent-light dark:text-accent-dark mt-2">
                            <span>$10</span>
                            <span>$50</span>
                        </div>
                    </div>
                </div>
                <div class="flex flex-col gap-2 border-t border-warm-gray/20 dark:border-accent-dark/30 pt-4">
                    <p class="text-base font-medium">Special Selections</p>
                    <div class="flex flex-col gap-2 pt-2 text-sm">
                        <label class="flex items-center gap-2 cursor-pointer"><input
                                class="form-checkbox rounded-sm text-cta-light dark:text-cta-dark bg-background-light dark:bg-background-dark border-warm-gray/40 focus:ring-cta-light/50"
                                type="checkbox"/> New Arrivals</label>
                        <label class="flex items-center gap-2 cursor-pointer"><input
                                class="form-checkbox rounded-sm text-cta-light dark:text-cta-dark bg-background-light dark:bg-background-dark border-warm-gray/40 focus:ring-cta-light/50"
                                type="checkbox"/> Bestsellers</label>
                    </div>
                </div>
            </div>
        </aside>
        <div class="flex-1 mt-8 lg:mt-0">
            <div class="grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 gap-8">
                {% if data and data|length > 0 %}
                {% for el in data %}
                <div class="bg-white shadow-md rounded-lg p-3 flex flex-col hover:-translate-y-1 transition cursor-pointer">

                    <img src="{{ el.image or url_for('static', filename='image_404.jpg') }}"
                         alt="{{ el.title }}"
                         class="w-full aspect-[2/3] object-cover rounded-md">

                    <h3 class="mt-3 text-lg font-semibold">{{ el.title }}</h3>
                    <p class="text-sm text-gray-600">{{ el.author }}</p>

                    <p class="mt-2 text-base font-bold">${{ el.price }}</p>

                    <button class="mt-3 w-full bg-blue-600 text-white py-2 text-sm rounded hover:bg-blue-700">
                        Add to Cart
                    </button>

                </div>
                {% endfor %}
                {% else %}
                <div class="col-span-full text-center py-12 text-gray-500">
                    Книги не найдены
                </div>
                {% endif %}
            </div>

        </div>
    </main>
</div>
<div class="mt-16 flex items-center justify-center gap-2">
    <button class="flex h-9 w-9 items-center justify-center rounded-md hover:bg-warm-gray/10 dark:hover:bg-accent-dark/10">
        <span class="material-symbols-outlined">chevron_left</span>
    </button>
    <button class="flex h-9 w-9 items-center justify-center rounded-md bg-warm-gray/20 dark:bg-accent-dark/20 font-semibold">
        1
    </button>
    <button class="flex h-9 w-9 items-center justify-center rounded-md hover:bg-warm-gray/10 dark:hover:bg-accent-dark/10">
        2
    </button>
    <button class="flex h-9 w-9 items-center justify-center rounded-md hover:bg-warm-gray/10 dark:hover:bg-accent-dark/10">
        3
    </button>
    <span class="text-accent-light dark:text-accent-dark">...</span>
    <button class="flex h-9 w-9 items-center justify-center rounded-md hover:bg-warm-gray/10 dark:hover:bg-accent-dark/10">
        10
    </button>
    <button class="flex h-9 w-9 items-center justify-center rounded-md hover:bg-warm-gray/10 dark:hover:bg-accent-dark/10">
        <span class="material-symbols-outlined">chevron_right</span>
    </button>
</div>
</div>
</main>
</div>
<script>
    // Simple dark mode toggle
    const themeToggle = document.getElementById('theme-toggle');
    themeToggle.addEventListener('click', () => {
        document.documentElement.classList.toggle('dark');
    });
</script>
{% endblock%}
{% block script %}
<script>
    tailwind.config = {
        darkMode: "class",
        theme: {
            extend: {
                colors: {
                    "ivory": "#F5F5DC",
                    "warm-gray": "#A39E93",
                    "charcoal": "#36454F",
                    "burgundy": "#6D2932",
                    "teal": "#008080",
                    "text-light": "#36454F",
                    "text-dark": "#F5F5DC",
                    "background-light": "#FDFBF5",
                    "background-dark": "#2C3A47",
                    "surface-light": "#FFFFFF",
                    "surface-dark": "#344955",
                    "accent-light": "#A39E93",
                    "accent-dark": "#8A9A9D",
                    "cta-light": "#6D2932",
                    "cta-dark": "#B27C66"
                },
                fontFamily: {
                    "display": ["Playfair Display", "serif"],
                    "body": ["Inter", "sans-serif"],
                },
                boxShadow: {
                    'soft': '0 10px 25px -5px rgba(0, 0, 0, 0.07), 0 8px 10px -6px rgba(0, 0, 0, 0.07)',
                },
            },
        },
    }
</script>
{% endblock %}


